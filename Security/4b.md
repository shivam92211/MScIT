# **Explore processes, threads, handles, and the Windows Registry** using tools from the **Sysinternals Suite** on a Windows system.

Link [Here](https://itexamanswers.net/2-1-2-10-lab-exploring-processes-threads-handles-and-windows-registry-instructor-version.html)

---

### **Step 1: Download and Extract the Sysinternals Suite**
1. **Download the Sysinternals Suite**:
   - Navigate to the Sysinternals Suite download page:
     ```
     https://learn.microsoft.com/en-us/sysinternals/downloads/sysinternals-suite
     ```
   - Download the ZIP file.

2. **Extract the Files**:
   - Extract the contents of the ZIP file to a folder (e.g., `C:\SysinternalsSuite`).

---

### **Step 2: Explore Processes Using Process Explorer**
1. **Launch Process Explorer**:
   - Navigate to the extracted folder and open `procexp.exe`.
   - Accept the license agreement if prompted.

2. **Explore Active Processes**:
   - Process Explorer displays a list of all active processes on the system.
   - Use the **Find Window’s Process** tool (binoculars icon) to locate a specific process:
     - Drag the icon over an open application (e.g., a web browser).
     - The corresponding process will be highlighted in Process Explorer.

3. **Terminate a Process**:
   - Right-click a process (e.g., your web browser) and select **Kill Process**.
   - Observe that the application closes.

4. **Start a New Process**:
   - Open a Command Prompt (`cmd.exe`).
   - Use the **Find Window’s Process** tool to locate the `cmd.exe` process in Process Explorer.
   - Observe the parent process (`explorer.exe`) and child process (`conhost.exe`).

5. **Check for Malicious Content**:
   - Right-click a suspicious process (e.g., `conhost.exe`) and select **Check VirusTotal**.
   - Agree to the VirusTotal terms of service.
   - Review the results in the VirusTotal column or the web browser.

---

### **Step 3: Explore Threads and Handles**
1. **View Threads**:
   - In Process Explorer, right-click a process (e.g., `conhost.exe`) and select **Properties**.
   - Go to the **Threads** tab to view the active threads for the process.
   - Examine the details of each thread (e.g., start address, priority, and state).

2. **View Handles**:
   - In Process Explorer, go to **View > Show Lower Pane > Handles**.
   - Select a process (e.g., `conhost.exe`) to view its associated handles.
   - Examine the handles (e.g., files, registry keys, and threads).

---

### **Step 4: Explore the Windows Registry**
1. **Open the Registry Editor**:
   - Press `Win + R`, type `regedit`, and press **Enter**.
   - Click **Yes** to allow the Registry Editor to make changes.

2. **Navigate to the Process Explorer Registry Key**:
   - Go to the following path:
     ```
     HKEY_CURRENT_USER\Software\Sysinternals\Process Explorer
     ```
   - Locate the `EulaAccepted` registry key.

3. **Modify the Registry Key**:
   - Double-click the `EulaAccepted` key.
   - Change the value from `1` (EULA accepted) to `0` (EULA not accepted).
   - Click **OK**.

4. **Test the Change**:
   - Close and reopen Process Explorer.
   - Observe that the license agreement dialog appears again.

---

### **Step 5: Reflection and Cleanup**
1. **Reflection Questions**:
   - What happens when you terminate a parent process (e.g., `cmd.exe`)?
   - What information can you gather from threads and handles?
   - How does modifying the Windows Registry affect applications?

2. **Clean Up**:
   - Restore the `EulaAccepted` registry key to its original value (`1`).
   - Close Process Explorer and the Registry Editor.

---

### **Summary of Steps**
1. **Download and Extract Sysinternals Suite**:
   - Download from: [Sysinternals Suite](https://learn.microsoft.com/en-us/sysinternals/downloads/sysinternals-suite).
   - Extract to a folder (e.g., `C:\SysinternalsSuite`).

2. **Explore Processes**:
   - Launch `procexp.exe`.
   - Use the **Find Window’s Process** tool to locate and terminate processes.

3. **Explore Threads and Handles**:
   - View threads in the **Properties** window.
   - View handles in the lower pane of Process Explorer.

4. **Explore the Windows Registry**:
   - Open `regedit` and navigate to `HKEY_CURRENT_USER\Software\Sysinternals\Process Explorer`.
   - Modify the `EulaAccepted` key and observe the changes.

---

### **Expected Output**
- **Process Explorer**:
  - Displays active processes, threads, and handles.
  - Allows you to terminate processes and check for malicious content.

- **Registry Editor**:
  - Allows you to modify application settings (e.g., `EulaAccepted`).
  - Changes in the registry affect application behavior.
